// Fullsize view toggled on click by JS
.fullsize {
    height: auto;
    // move image out of viewport
    // instead of display:none
    // to work with loading="lazy"
    left: -9999px;
    // Image will still be downscaled to fit viewport
    max-height: calc(95vh - 20px);
    max-width: calc(95vh - 20px);
    object-fit: scale-down;
    opacity: 0; // for transition
    position: fixed;
    top: 50%;
    // lets us center image of unknown dimensions
    transform: translateY(-50%) translateX(-50%);
    transition: 0;
    visibility: hidden;
    width: auto;
    z-index: 99;

    img, video {
        box-shadow: 0px 0px 9px 2px rgba(0,0,0,0.75);
        height: unset;
        max-height: calc(95vh - 20px);
        max-width: calc(95vh - 20px);
        object-fit: scale-down;
        width: unset;
    }

    // dark overlay
    &::before {
        // positioning is hacky here
        background-color: rgba(0,0,0,0.2);
        content: "";
        height: 500vh ;
        left: -200vh;
        opacity: 0;
        position: fixed;
        top: -200vh;
        visibility: hidden;
        width: 500vh;
        z-index: -1;
    }

    // class toggled on click
    &.visible {
        left: 50%;
        opacity: 1;
        transition: opacity .3s;
        visibility: visible;
    }
    // show overlay when image clicked
    &.visible::before {
        // by setting transition inside the 'visible' class,
        // there will be no transition when closing the image,
        // only opening.
        transition: opacity .3s;
        opacity: 1;
        visibility: visible;
    }